# åˆ›å»ºæµ‹è¯•è´¦å·æŒ‡å—

## å¿«é€Ÿåˆ›å»ºæµ‹è¯•è´¦å·

### æ–¹æ³•1: ä½¿ç”¨PowerShellè„šæœ¬ï¼ˆæ¨èï¼‰

1. æ‰“å¼€PowerShell
2. è¿›å…¥backendç›®å½•ï¼š
   ```powershell
   cd d:\student_system\backend
   ```
3. è¿è¡Œåˆ›å»ºè„šæœ¬ï¼š
   ```powershell
   .\CreateTestAccount.ps1
   ```

### æ–¹æ³•2: æ‰‹åŠ¨è¿è¡ŒPythonè„šæœ¬

1. æ‰“å¼€å‘½ä»¤è¡Œ
2. è¿›å…¥backendç›®å½•
3. æ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼š
   ```powershell
   .\.venv\Scripts\activate
   ```
4. è¿è¡Œè„šæœ¬ï¼š
   ```powershell
   python create_test_account.py
   ```

### æ–¹æ³•3: åˆå§‹åŒ–å®Œæ•´æ•°æ®åº“ï¼ˆåŒ…å«å¤šä¸ªæµ‹è¯•è´¦å·ï¼‰

```powershell
cd d:\student_system\backend
.\.venv\Scripts\activate
python init_db.py
```

---

## æµ‹è¯•è´¦å·ä¿¡æ¯

åˆ›å»ºæˆåŠŸåï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹è´¦å·ç™»å½•ï¼š

### ğŸ“ ä¸»è¦æµ‹è¯•è´¦å·ï¼ˆæ¨èï¼‰
- **ç”¨æˆ·å**: `admin`
- **å¯†ç **: `admin`
- **è§’è‰²**: å­¦ç”Ÿ
- **å§“å**: æµ‹è¯•å­¦ç”Ÿ
- **å­¦å·**: TEST001

### å…¶ä»–å¯ç”¨æµ‹è¯•è´¦å·

#### ç³»ç»Ÿç®¡ç†å‘˜
- **ç”¨æˆ·å**: `sysadmin`
- **å¯†ç **: `admin123`
- **è§’è‰²**: ç®¡ç†å‘˜

#### å­¦ç”Ÿè´¦å·1
- **ç”¨æˆ·å**: `student001`
- **å¯†ç **: `password123`
- **å§“å**: å¼ ä¸‰
- **å­¦å·**: 2021001

#### å­¦ç”Ÿè´¦å·2
- **ç”¨æˆ·å**: `student002`
- **å¯†ç **: `password123`
- **å§“å**: æå››
- **å­¦å·**: 2021002

---

## éªŒè¯æ•°æ®åº“è¿æ¥

### æ£€æŸ¥MySQLæœåŠ¡
```powershell
# æŸ¥çœ‹MySQLæœåŠ¡çŠ¶æ€
Get-Service -Name MySQL* | Select-Object Name, Status
```

### æµ‹è¯•æ•°æ®åº“è¿æ¥
```powershell
cd d:\student_system\backend
.\.venv\Scripts\activate
python -c "from database import engine; engine.connect(); print('æ•°æ®åº“è¿æ¥æˆåŠŸ!')"
```

---

## å¸¸è§é—®é¢˜

### Q1: è¿è¡Œè„šæœ¬æ—¶æç¤º"ç”¨æˆ·å·²å­˜åœ¨"
**A**: è¿™æ˜¯æ­£å¸¸æƒ…å†µï¼Œè¯´æ˜è´¦å·å·²ç»åˆ›å»ºã€‚å¯ä»¥ç›´æ¥ä½¿ç”¨ `admin/admin` ç™»å½•ã€‚

### Q2: æ•°æ®åº“è¿æ¥å¤±è´¥
**A**: è¯·æ£€æŸ¥ï¼š
1. MySQLæœåŠ¡æ˜¯å¦å¯åŠ¨
2. `.env`æ–‡ä»¶ä¸­çš„æ•°æ®åº“é…ç½®æ˜¯å¦æ­£ç¡®
3. æ•°æ®åº“`student_system`æ˜¯å¦å­˜åœ¨

### Q3: å¦‚ä½•é‡ç½®æ•°æ®åº“
**A**: 
1. åˆ é™¤æ‰€æœ‰è¡¨ï¼ˆå°å¿ƒï¼ä¼šä¸¢å¤±æ•°æ®ï¼‰
2. é‡æ–°è¿è¡Œ `python init_db.py`

---

## å¯åŠ¨é¡¹ç›®æµ‹è¯•

### 1. å¯åŠ¨åç«¯
```powershell
cd d:\student_system\backend
.\.venv\Scripts\activate
python -m uvicorn main:app --reload
```

### 2. å¯åŠ¨å‰ç«¯
```powershell
cd d:\student_system\frontend
npm run dev
```

### 3. è®¿é—®ç³»ç»Ÿ
æ‰“å¼€æµè§ˆå™¨è®¿é—®: http://localhost:5173

### 4. ç™»å½•æµ‹è¯•
ä½¿ç”¨è´¦å· `admin` å¯†ç  `admin` ç™»å½•

---

## æ‰‹åŠ¨åˆ›å»ºè´¦å·ï¼ˆSQLæ–¹å¼ï¼‰

å¦‚æœPythonè„šæœ¬æ— æ³•è¿è¡Œï¼Œå¯ä»¥ç›´æ¥åœ¨MySQLä¸­æ‰§è¡Œä»¥ä¸‹SQLï¼š

```sql
USE student_system;

-- åˆ›å»ºç”¨æˆ·ï¼ˆå¯†ç hashæ˜¯'admin'çš„bcryptï¼‰
INSERT INTO sys_user (username, password_hash, role, avatar_url, created_at, updated_at) 
VALUES ('admin', '$2b$12$LQv3c1yqBWVHxkd0LHAkCOYz6TIbMrJQIqvBOziFXNKnr6ZqK6Jqm', 'student', NULL, NOW(), NOW());

-- è·å–åˆšåˆ›å»ºçš„ç”¨æˆ·IDï¼ˆå‡è®¾æ˜¯1ï¼Œè¯·æ ¹æ®å®é™…æƒ…å†µè°ƒæ•´ï¼‰
SET @user_id = LAST_INSERT_ID();

-- åˆ›å»ºå­¦ç”Ÿæ¡£æ¡ˆ
INSERT INTO sys_student (user_id, student_id, name, class_name, major, email, phone, created_at, updated_at)
VALUES (@user_id, 'TEST001', 'æµ‹è¯•å­¦ç”Ÿ', 'æµ‹è¯•ç­çº§', 'è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯', 'test@example.com', '13800138000', NOW(), NOW());
```

**æ³¨æ„**: ä¸Šé¢çš„password_hashæ˜¯'admin'é€šè¿‡bcryptåŠ å¯†åçš„ç»“æœã€‚

---

## å¯†ç å“ˆå¸Œç”Ÿæˆï¼ˆå¦‚éœ€è‡ªå®šä¹‰å¯†ç ï¼‰

```python
from auth import get_password_hash
print(get_password_hash("your_password"))
```

å°†è¾“å‡ºçš„å“ˆå¸Œå€¼ç”¨äºSQLæ’å…¥è¯­å¥ä¸­çš„password_hashå­—æ®µã€‚
